# !/usr/bin/env python3

# -*- coding: utf-8 -*-

"""

Created on Wed Mar 27 10:51:45 2019

模糊c聚类:https://blog.csdn.net/lyxleft/article/details/88964494

@author: youxinlin

"""

import copy

import math
import matplotlib.pyplot as plt
import random
import numpy as np
import time

global MAX  # 用于初始化隶属度矩阵U

MAX = 10000.0

global Epsilon  # 结束条件

Epsilon = 0.0000001


def print_matrix(list):
    """

    以可重复的方式打印矩阵

    """

    for i in range(0, len(list)):
        print(list[i])


def initialize_U(data, cluster_number):
    """

    这个函数是隶属度矩阵U的每行加起来都为1. 此处需要一个全局变量MAX.

    """

    global MAX

    U = []

    for i in range(0, len(data)):

        current = []

        rand_sum = 0.0

        for j in range(0, cluster_number):
            dummy = random.randint(1, int(MAX))

            current.append(dummy)

            rand_sum += dummy

        for j in range(0, cluster_number):
            current[j] = current[j] / rand_sum

        U.append(current)

    return U


def distance(point, center):
    """

    该函数计算2点之间的距离（作为列表）。我们指欧几里德距离。闵可夫斯基距离

    """

    if len(point) != len(center):
        return -1

    dummy = 0.0

    for i in range(0, len(point)):
        dummy += abs(point[i] - center[i]) ** 2

    return math.sqrt(dummy)


def end_conditon(U, U_old):
    """

	结束条件。当U矩阵随着连续迭代停止变化时，触发结束

	"""

    global Epsilon

    for i in range(0, len(U)):

        for j in range(0, len(U[0])):

            if abs(U[i][j] - U_old[i][j]) > Epsilon:
                return False

    return True


def normalise_U(U):
    """

    在聚类结束时使U模糊化。每个样本的隶属度最大的为1，其余为0

    """

    for i in range(0, len(U)):

        maximum = max(U[i])

        for j in range(0, len(U[0])):

            if U[i][j] != maximum:

                U[i][j] = 0

            else:

                U[i][j] = 1

    return U


def fuzzy(data, cluster_number, m):
    """

    这是主函数，它将计算所需的聚类中心，并返回最终的归一化隶属矩阵U.

    输入参数：簇数(cluster_number)、隶属度的因子(m)的最佳取值范围为[1.5，2.5]

    """

    # 初始化隶属度矩阵U

    U = initialize_U(data, cluster_number)

    # print_matrix(U)

    # 循环更新U

    while (True):

        # 创建它的副本，以检查结束条件

        U_old = copy.deepcopy(U)

        # 计算聚类中心

        C = []

        for j in range(0, cluster_number):

            current_cluster_center = []

            for i in range(0, len(data[0])):

                dummy_sum_num = 0.0

                dummy_sum_dum = 0.0

                for k in range(0, len(data)):
                    # 分子

                    dummy_sum_num += (U[k][j] ** m) * data[k][i]

                    # 分母

                    dummy_sum_dum += (U[k][j] ** m)

                # 第i列的聚类中心

                current_cluster_center.append(dummy_sum_num / dummy_sum_dum)

            # 第j簇的所有聚类中心

            C.append(current_cluster_center)

        # 创建一个距离向量, 用于计算U矩阵。

        distance_matrix = []

        for i in range(0, len(data)):

            current = []

            for j in range(0, cluster_number):
                current.append(distance(data[i], C[j]))

            distance_matrix.append(current)

        # 更新U

        for j in range(0, cluster_number):

            for i in range(0, len(data)):

                dummy = 0.0

                for k in range(0, cluster_number):
                    # 分母

                    dummy += (distance_matrix[i][j] / distance_matrix[i][k]) ** (2 / (m - 1))

                U[i][j] = 1 / dummy

        if end_conditon(U, U_old):
            print("已完成聚类")

            break
    # print(U)
    # U = normalise_U(U)

    return U


if __name__ == '__main__':
    data = [[6.1, 2.8, 4.7, 1.2], [5.1, 3.4, 1.5, 0.2], [6.0, 3.4, 4.5, 1.6], [4.6, 3.1, 1.5, 0.2],
            [6.7, 3.3, 5.7, 2.1], [7.2, 3.0, 5.8, 1.6], [6.7, 3.1, 4.4, 1.4], [6.4, 2.7, 5.3, 1.9],
            [4.8, 3.0, 1.4, 0.3], [7.9, 3.8, 6.4, 2.0], [5.2, 3.5, 1.5, 0.2], [5.9, 3.0, 5.1, 1.8],
            [5.7, 2.8, 4.1, 1.3], [6.8, 3.2, 5.9, 2.3], [5.4, 3.4, 1.5, 0.4], [5.4, 3.7, 1.5, 0.2],
            [6.6, 3.0, 4.4, 1.4], [5.1, 3.5, 1.4, 0.2], [6.0, 2.2, 4.0, 1.0], [7.7, 2.8, 6.7, 2.0],
            [6.3, 2.8, 5.1, 1.5], [7.4, 2.8, 6.1, 1.9], [5.5, 4.2, 1.4, 0.2], [5.7, 3.0, 4.2, 1.2],
            [5.5, 2.6, 4.4, 1.2], [5.2, 3.4, 1.4, 0.2], [4.9, 3.1, 1.5, 0.1], [4.6, 3.6, 1.0, 0.2],
            [4.6, 3.2, 1.4, 0.2], [5.8, 2.7, 3.9, 1.2], [5.0, 3.4, 1.5, 0.2], [6.1, 3.0, 4.6, 1.4],
            [4.7, 3.2, 1.6, 0.2], [6.7, 3.3, 5.7, 2.5], [6.5, 3.0, 5.8, 2.2], [5.4, 3.4, 1.7, 0.2],
            [5.8, 2.7, 5.1, 1.9], [5.4, 3.9, 1.3, 0.4], [5.3, 3.7, 1.5, 0.2], [6.1, 3.0, 4.9, 1.8],
            [7.2, 3.2, 6.0, 1.8], [5.5, 2.3, 4.0, 1.3], [5.7, 2.8, 4.5, 1.3], [4.9, 2.4, 3.3, 1.0],
            [5.4, 3.0, 4.5, 1.5], [5.0, 3.5, 1.6, 0.6], [5.2, 4.1, 1.5, 0.1], [5.8, 4.0, 1.2, 0.2],
            [5.4, 3.9, 1.7, 0.4], [6.5, 3.2, 5.1, 2.0], [5.5, 2.4, 3.7, 1.0], [5.0, 3.5, 1.3, 0.3],
            [6.3, 2.5, 5.0, 1.9], [6.9, 3.1, 4.9, 1.5], [6.2, 2.2, 4.5, 1.5], [6.3, 3.3, 4.7, 1.6],
            [6.4, 3.2, 4.5, 1.5], [4.7, 3.2, 1.3, 0.2], [5.5, 2.4, 3.8, 1.1], [5.0, 2.0, 3.5, 1.0],
            [4.4, 2.9, 1.4, 0.2], [4.8, 3.4, 1.9, 0.2], [6.3, 3.4, 5.6, 2.4], [5.5, 2.5, 4.0, 1.3],
            [5.7, 2.5, 5.0, 2.0], [6.5, 3.0, 5.2, 2.0], [6.7, 3.0, 5.0, 1.7], [5.2, 2.7, 3.9, 1.4],
            [6.9, 3.1, 5.1, 2.3], [7.2, 3.6, 6.1, 2.5], [4.8, 3.0, 1.4, 0.1], [6.3, 2.9, 5.6, 1.8],
            [5.1, 3.5, 1.4, 0.3], [6.9, 3.1, 5.4, 2.1], [5.6, 3.0, 4.1, 1.3], [7.7, 2.6, 6.9, 2.3],
            [6.4, 2.9, 4.3, 1.3], [5.8, 2.7, 4.1, 1.0], [6.1, 2.9, 4.7, 1.4], [5.7, 2.9, 4.2, 1.3],
            [6.2, 2.8, 4.8, 1.8], [4.8, 3.4, 1.6, 0.2], [5.6, 2.9, 3.6, 1.3], [6.7, 2.5, 5.8, 1.8],
            [5.0, 3.4, 1.6, 0.4], [6.3, 3.3, 6.0, 2.5], [5.1, 3.8, 1.9, 0.4], [6.6, 2.9, 4.6, 1.3],
            [5.1, 3.3, 1.7, 0.5], [6.3, 2.5, 4.9, 1.5], [6.4, 3.1, 5.5, 1.8], [6.2, 3.4, 5.4, 2.3],
            [6.7, 3.1, 5.6, 2.4], [4.6, 3.4, 1.4, 0.3], [5.5, 3.5, 1.3, 0.2], [5.6, 2.7, 4.2, 1.3],
            [5.6, 2.8, 4.9, 2.0], [6.2, 2.9, 4.3, 1.3], [7.0, 3.2, 4.7, 1.4], [5.0, 3.2, 1.2, 0.2],
            [4.3, 3.0, 1.1, 0.1], [7.7, 3.8, 6.7, 2.2], [5.6, 3.0, 4.5, 1.5], [5.8, 2.7, 5.1, 1.9],
            [5.8, 2.8, 5.1, 2.4], [4.9, 3.1, 1.5, 0.1], [5.7, 3.8, 1.7, 0.3], [7.1, 3.0, 5.9, 2.1],
            [5.1, 3.7, 1.5, 0.4], [6.3, 2.7, 4.9, 1.8], [6.7, 3.0, 5.2, 2.3], [5.1, 2.5, 3.0, 1.1],
            [7.6, 3.0, 6.6, 2.1], [4.5, 2.3, 1.3, 0.3], [4.9, 3.0, 1.4, 0.2], [6.5, 2.8, 4.6, 1.5],
            [5.7, 4.4, 1.5, 0.4], [6.8, 3.0, 5.5, 2.1], [4.9, 2.5, 4.5, 1.7], [5.1, 3.8, 1.5, 0.3],
            [6.5, 3.0, 5.5, 1.8], [5.7, 2.6, 3.5, 1.0], [5.1, 3.8, 1.6, 0.2], [5.9, 3.0, 4.2, 1.5],
            [6.4, 3.2, 5.3, 2.3], [4.4, 3.0, 1.3, 0.2], [6.1, 2.8, 4.0, 1.3], [6.3, 2.3, 4.4, 1.3],
            [5.0, 2.3, 3.3, 1.0], [5.0, 3.6, 1.4, 0.2], [5.9, 3.2, 4.8, 1.8], [6.4, 2.8, 5.6, 2.2],
            [6.1, 2.6, 5.6, 1.4], [5.6, 2.5, 3.9, 1.1], [6.0, 2.7, 5.1, 1.6], [6.0, 3.0, 4.8, 1.8],
            [6.4, 2.8, 5.6, 2.1], [6.0, 2.9, 4.5, 1.5], [5.8, 2.6, 4.0, 1.2], [7.7, 3.0, 6.1, 2.3],
            [5.0, 3.3, 1.4, 0.2], [6.9, 3.2, 5.7, 2.3], [6.8, 2.8, 4.8, 1.4], [4.8, 3.1, 1.6, 0.2],
            [6.7, 3.1, 4.7, 1.5], [4.9, 3.1, 1.5, 0.1], [7.3, 2.9, 6.3, 1.8], [4.4, 3.2, 1.3, 0.2],
            [6.0, 2.2, 5.0, 1.5], [5.0, 3.0, 1.6, 0.2]]

    data4=[[ 14 , -40 ],
[ 22 , 25 ],
[ -3 , -30 ],
[ 2 , 8 ],
[ 22 , 19 ],
[ 13 , -10 ],
[ 15 , 21 ],
[ -7 , 53 ],
[ 26 , 7 ],
[ 19 , 45 ],
[ -2 , 24 ],
[ 7 , 45 ],
[ 29 , -21 ],
[ 19 , -29 ],
[ 16 , -39 ],
[ 16 , 39 ],
[ 25 , 36 ],
[ -10 , 5 ],
[ 21 , 22 ],
[ 11 , 32 ],
[ 25 , -27 ],
[ -9 , 52 ],
[ 5 , -5 ],
[ -5 , 55 ],
[ 15 , 12 ],
[ 11 , -5 ],
[ 19 , -17 ],
[ 25 , -20 ],
[ 11 , 31 ],
[ 16 , 37 ],
[ 23 , -28 ],
[ 19 , -9 ],
[ 3 , 24 ],
[ -5 , 39 ],
[ 16 , -3 ],
[ -7 , -19 ],
[ 20 , -35 ],
[ 21 , 29 ],
[ 24 , 19 ],
[ -8 , -33 ],
[ 5 , -32 ],
[ 3 , 10 ],
[ 6 , -17 ],
[ 17 , 9 ],
[ 12 , 43 ],
[ 18 , 22 ],
[ -6 , -33 ],
[ -7 , 39 ],
[ 9 , -25 ],
[ 30 , 45 ],
        [22, 19],
        [-19, 11],
        [17, 11],
        [-39, 30],
        [29, 30],
        [11, 9],
        [60, 17],
        [29, 21],
        [-20, 5],
        [17, 1],
        [46, -6],
        [-2, 14],
        [51, 2],
        [-19, 27],
        [-7, 25],
        [25, -8],
        [-6, 10],
        [-37, 24],
        [8, 30],
        [17, 21],
        [31, -3],
        [45, 16],
        [-27, -6],
        [-22, -2],
        [31, 15],
        [32, 4],
        [17, 8],
        [45, 30],
        [53, -2],
        [-37, 16],
        [55, 0],
        [25, -4],
        [26, 26],
        [9, 19],
        [-33, -9],
        [29, 29],
        [5, 3],
        [38, -10],
        [-40, 22],
        [-13, 5],
        [-22, 17],
        [10, 8],
        [25, 24],
        [-12, 2],
        [-17, 20],
        [50, 27],
        [27, 17],
        [-8, 14],
        [4, 11],
        [-15, 19],


        [ -34 , -20 ],
[ 54 , 57 ],
[ -33 , 39 ],
[ -5 , 31 ],
[ -34 , 33 ],
[ 55 , 4 ],
[ 19 , -12 ],
[ -16 , -30 ],
[ 2 , 7 ],
[ 55 , 16 ],
[ 37 , -14 ],
[ -20 , 4 ],
[ 37 , -35 ],
[ 24 , -38 ],
[ 27 , 59 ],
[ 1 , 18 ],
[ 6 , 10 ],
[ -24 , -33 ],
[ 12 , 33 ],
[ 30 , 49 ],
[ -19 , -14 ],
[ 40 , -31 ],
[ 35 , 36 ],
[ 27 , 0 ],
[ 43 , 12 ],
[ 47 , 59 ],
[ 60 , -11 ],
[ -31 , 16 ],
[ 57 , -38 ],
[ 2 , 5 ],
[ 51 , -10 ],
[ 8 , 43 ],
[ 24 , 58 ],
[ 46 , 10 ],
[ 59 , 20 ],
[ 55 , 57 ],
[ 27 , 5 ],
[ 8 , -2 ],
[ 41 , 41 ],
[ 27 , 33 ],
[ -6 , 10 ],
[ -30 , 44 ],
[ 7 , 32 ],
[ 16 , 28 ],
[ 7 , -38 ],
[ 42 , 60 ],
[ 52 , 9 ],
[ 47 , 16 ],
[ -37 , -40 ],
[ 0 , -3 ],
[ 3.01284480236507 , 5.184122956161267 ],
[ 40.359731853315296 , -6.936861640450451 ],
[ -20.477964939184314 , 33.696674349770525 ],
[ -14.750741950257002 , 0.7273236404652129 ],
[ 33.171069244121554 , -0.8570689983757853 ],
[ -5.706726661088001 , 36.74111674059365 ],
[ -2.0847558835402404 , -3.9758966204097574 ],
[ 45.47308885126325 , -11.233784386001318 ],
[ -0.6642556482989408 , 49.04907831439891 ],
[ 9.31509771052253 , -18.207471729495143 ],
[ 40.46314580578405 , -0.9523842561959749 ],
[ -7.224023162199852 , 30.630370480345846 ],
[ -5.82979123349499 , -6.340263167449091 ],
[ 19.943329560411183 , -10.140384819709578 ],
[ 4.4808725040745925 , 31.05612041023945 ],
[ -13.342246507098492 , 4.086421540244189 ],
[ 49.66863589361812 , 8.10964609613776 ],
[ -5.4315590833401695 , 42.94712265708929 ],
[ -8.740446415035311 , 3.2320375000775226 ],
[ 47.783224999442105 , 2.827598218983008 ],
[ 3.9615249705931017 , 44.11499349547953 ],
[ 18.873505930304546 , 13.97427930678111 ],
[ 22.638732615457787 , -3.2414300985693583 ],
[ -5.979250893742688 , 52.07926194376862 ],
[ -21.12814773123013 , 5.849501867386663 ],
[ 21.19495662813248 , 10.44835723305046 ],
[ -6.639616161982177 , 20.847427279958293 ],
[ -10.475571525285703 , -14.035807942001062 ],
[ 37.375151160462444 , 18.774422416000288 ],
[ -11.239767973460417 , 48.533892738482294 ],
[ -14.640240393201754 , 10.951147938060704 ],
[ 54.77974367716827 , -9.407994242662124 ],
[ 9.745419823012412 , 43.92593899666345 ],
[ -6.209069329462242 , -0.0822223418464417 ],
[ 58.80585655947566 , -8.780720235973613 ],
[ 20.526084482972177 , 35.15884590503011 ],
[ -9.847181876621603 , -4.441536816196189 ],
[ 42.05236705725786 , 2.63924710206455 ],
[ -4.9075427630634305 , 23.919114880358173 ],
[ -11.489785834408988 , -2.51952721222207 ],
[ 30.781608095060783 , 6.735260620739956 ],
[ 8.25493620680535 , 39.14941381019091 ],
[ 7.4200204108986085 , 4.114844101913498 ],
[ 67.90181119259671 , 9.02108920373241 ],
[ -1.5468125984365537 , 54.654559991934605 ],
[ -14.53778902555968 , 12.849587852094581 ],
[ 55.94687485045029 , -13.516083343379677 ],
[ -0.6094808600928996 , 43.90238441672299 ],
[ -20.985373143892517 , 6.032941551072567 ],
[ 31.720901311390804 , -6.089855060088986 ],
[ 8.742594858514538 , 23.23675715867128 ],
[ 1.059380243239909 , -7.716613034871677 ],
[ 43.8745364871252 , -8.575852425716034 ],
[ -7.7075012443241695 , 37.35281768122485 ],
[ -12.46460090501605 , -9.150489259518618 ],
[ 33.11157372716722 , -1.595492096232418 ],
[ -4.746549889775164 , 44.50808083854754 ],
[ -4.162038742515723 , 15.290615181874475 ],
[ 24.396475233087074 , 8.150921366401443 ],
[ 12.448631958266908 , 46.24092942488987 ],
[ -6.273485124560014 , -8.099501008997951 ],
[ 42.58814721863563 , -4.35167776852973 ],
[ -1.1603544324043336 , 39.8934111492806 ],
[ -18.738380775334356 , 2.522068012775315 ],
[ 35.109009971925026 , -24.266432646097336 ],
[ 1.5677544667102128 , 36.377742515198946 ],
[ -27.12863859622121 , 0.0032282581716805087 ],
[ 61.367158493302654 , 13.545300896689199 ],
[ 7.196689496738258 , 28.52584108658368 ],
[ -24.18912299878363 , 12.711580719021251 ],
[ 18.06033682816327 , 8.186549019546113 ],
[ 5.8666392552918625 , 37.5571512509571 ],
[ -5.78522280723903 , -2.1235372034717095 ],
[ 52.2924173407594 , 3.8635978084489615 ],
[ -2.6561655134058553 , 25.850463407417514 ],
[ -20.220055662189978 , 15.123181377739396 ],
[ 54.19542125755211 , -7.66063750430476 ],
[ -2.546881572949915 , 45.82137670809835 ],
[ -10.852042224557664 , -3.193927432759503 ],
[ 38.21505643055441 , -16.711715877544325 ],
[ -3.5681716330753064 , 50.23491444684605 ],
[ -17.971781641908645 , 8.061465646087772 ],
[ 57.29475137778913 , -13.383522382083699 ],
[ -0.02682532116378307 , 44.95844960100593 ],
[ -11.122896319919725 , 2.8507314179681247 ],
[ 27.31750593611386 , 6.192406680284619 ],
[ 5.395863513310923 , 40.56260740432106 ],
[ -7.53587108142127 , 1.1723565749342726 ],
[ 28.37469685676054 , 10.831108640702052 ],
[ -5.181759027437431 , 34.500776400018154 ],
[ -28.32543072039882 , 16.49061445653521 ],
[ 46.26761820756464 , 0.2567653810307668 ],
[ 7.723303099533102 , 43.824516735703824 ],
[ -12.730563539000634 , -16.831794206980884 ],
[ 29.338025140649115 , -3.4464208682546986 ],
[ 11.87229938250522 , 56.32144398856297 ],
[ 0.09318576185768102 , 4.799074427774002 ],
[ 59.50202191668353 , 2.5379380466773833 ],
[ 21.514653306195733 , 44.85121490800197 ],
[ -13.25737166855678 , 0.6512998435156885 ],
[ 39.35116886243684 , 5.280559429611028 ],
[ 2.337822367495705 , 45.548660122643454 ],
[ -8.044950807811142 , -11.668403592779606 ],
[ 42.305376389814114 , 9.200998240684902 ],
[ 15.355091767988283 , 40.01726971629382 ],
[ -14.001435126742411 , 2.648212830708212 ],
[ 40.239108770507755 , -5.558368552934891 ],
[ 0.28423116736503984 , 46.104105963406866 ],
[ -26.63302638675871 , -7.215683985710383 ],
[ 38.4223891441933 , 9.502031916379627 ],
[ -9.71602734547333 , 32.816528717519645 ],
[ -13.390920870630072 , 12.172889304973488 ],
[ 56.564005358290174 , -20.2399026419998 ],
[ -18.546623359661368 , 44.471667869125866 ],
[ -5.803768108024392 , 3.2901040740259413 ],
[ 54.069099898052926 , 3.1168616555368294 ],
[ 1.6712659650264172 , 41.1367091540907 ],
[ -4.198693033443681 , 6.599465357216834 ],
[ 41.71729807595715 , -4.058855934447681 ],
[ -1.6953715536811977 , 39.42432124135172 ],
[ -10.692340646874117 , -10.658754735636586 ],
[ 45.74911226697627 , -2.338387655959412 ],
[ 5.030475765703462 , 35.95945738632006 ],
[ -14.07949388402407 , -4.159725778316069 ],
[ 30.630732168954495 , -9.114211042916741 ],
[ 4.328042650613674 , 42.70302008217893 ],
[ -9.008199353113286 , -10.031767764289924 ],
[ 39.40171418125723 , -19.50755412028527 ],
[ 4.5505967929232725 , 39.504592394078216 ],
[ -5.299006621223969 , -15.415899060592666 ],
[ 46.61527248354106 , -3.468365677395642 ],
[ 0.29636194192643117 , 48.4974433262618 ],
[ -8.758176638262663 , 0.6398886292485674 ],
[ 35.38214597139166 , 18.912537480720705 ],
[ 9.470408514404037 , 43.14073998632439 ],
[ 7.9164164545424285 , -2.5152967727450455 ],
[ 55.78866887834517 , -4.624889800004314 ],
[ 11.093384989844479 , 33.52706279091262 ],
[ -13.313453323128458 , 4.797707384346841 ],
[ 28.55466654612966 , -14.490521228683521 ],
[ -16.773546299288892 , 44.976005246934506 ],
[ -18.237835524664703 , 12.225897280687505 ],
[ 55.67842360812935 , -3.23657359652787 ],
[ -15.47402300704347 , 55.992355507760905 ],
[ -28.114602082958214 , 2.572343275261368 ],
[ 30.716452097708085 , -3.8520072305517 ],
[ 2.57531096433053 , 45.29317384950103 ],
[ -9.457730830610256 , -13.814140418436144 ],
[ 51.90961130537896 , -11.214574811629532 ],
[ 18.822530810414637 , 36.507044626013105 ],
[ -20.390823673324153 , 11.00620312126049 ],
[ 43.58550754335004 , 8.07730779800113 ],
[ -0.8452920166357962 , 42.817818450909975 ],
[ -38.1695796549991 , -0.9859676234124324 ],
[ 29.852928224966348 , -16.270734242839353 ],
[ 6.537177034936496 , 29.375998267757723 ],
[ 2.22779352459899 , 4.994904010334699 ],
[ 38.8199078636238 , -22.24472617683961 ],
[ 11.384162241247688 , 40.13294646961283 ],
[ -27.561541534674127 , 11.193293580998757 ],
[ 39.334409615382 , -5.751332162992684 ],
[ -0.9106417322530467 , 31.966759473280305 ],
[ -33.30759362833973 , -9.011181353497864 ],
[ 51.4048353522546 , -0.28758329926272597 ],
[ 4.307351604797158 , 28.779317775752453 ],
[ -4.137594421006963 , -15.296125799979048 ],
[ 28.63150021263622 , 14.378164601812353 ],
[ 1.3558351294034563 , 41.0980248212711 ],
[ -10.590378148628563 , 8.189663015769304 ],
[ 26.695626223435795 , 6.557217513997944 ],
[ -7.9443748669447505 , 53.47313630653028 ],
[ -9.856468334481985 , -1.9487394333770802 ],
[ 29.728926813174937 , 2.8670017228644746 ],
[ 2.7422408196449206 , 22.125853340733915 ],
[ -9.028147504475257 , -3.172450058777605 ],
[ 25.986181728711635 , 17.628717760604133 ],
[ -10.486847923240099 , 35.869586215965185 ],
[ -28.874605212091442 , -1.3482205563607184 ],
[ 57.2170973588931 , -21.933233081813523 ],
[ 19.98112175240166 , 37.315935286376195 ],
[ -13.996951451765248 , 1.780389635901665 ],
[ 48.76720375456817 , -3.9331487170055186 ],
[ -3.7700053825891677 , 28.213803514898736 ],
[ -9.680783916948034 , -12.544558152106433 ],
[ 48.943426599953824 , 8.241642300421754 ],
[ -7.139106470005366 , 31.596905597035764 ],
[ -8.662509169584826 , 10.305723313662277 ],
[ 30.830105593117466 , -7.6756052365909895 ],
[ -13.768132841753138 , 35.27663965614529 ],
[ -8.027111683958983 , 1.4922734671899258 ],
[ 43.602140411316036 , 3.47179659059953 ],
[ -0.16093045366243272 , 31.59934786302059 ],
[ -6.877424847276403 , 3.9112817156691166 ],
[ 30.237910603364103 , -12.449669365255664 ],
[ -2.103518830743121 , 55.92919331786206 ],
[ -15.220565784107254 , 3.169755386683319 ],
[ 35.68136095036097 , -2.534261303841248 ],
[ -5.653020341093795 , 27.480723527258917 ],
[ -16.225761060147086 , 13.275720422445547 ],
[ 36.35622658373981 , 6.385915041429044 ],
[ -10.601338442015791 , 36.51099174799111 ],
[ 8.724045154019933 , -6.476241312895534 ],
[ 45.36925848115303 , 2.9249938287743857 ],
[ -3.755359921041668 , 48.63808935586482 ],
[ -13.726846728293182 , -2.836188183198985 ],
[ 38.79487017206462 , 11.889669758047754 ],
[ 11.93226214862391 , 37.81617310599471 ],
[ -0.8659872502841619 , 8.97790259596064 ],
[ 48.15329087138991 , -11.270389012287902 ],
[ -1.2388163380850474 , 47.14550721288129 ],
[ 6.864560066464634 , -8.988042082680053 ],
[ 33.3314250513912 , 8.799410764363602 ],
[ -19.308239335970956 , 37.455734322725355 ],
[ -9.904749069456976 , 5.85299863934217 ],
[ 29.59885370207214 , -10.667560578964734 ],
[ 2.6376390347473673 , 55.333312326396666 ],
[ -4.3220616513058125 , 0.608578688045994 ],
[ 33.32794004701806 , -0.8539466104845183 ],
[ -8.926144284214086 , 24.18871193435889 ],
[ -2.163451614945185 , 1.9634575863313743 ],
[ 35.26091060779456 , -0.7097541270629769 ],
[ 5.587034695487807 , 33.50818172358614 ],
[ -5.584342470415113 , 0.5113091932437803 ],
[ 35.15628437436397 , -5.633375292545128 ],
[ -13.920389790607352 , 43.24004606690873 ],
[ -17.04822682411264 , 1.7122588628996978 ],
[ 42.55836650429191 , 6.791609148882774 ],
[ -1.6019441080124701 , 49.49429002203388 ],
[ -11.25733084288717 , -0.5707695711747169 ],
[ 36.725225559979094 , 11.387677655761197 ],
[ -4.6871197177054125 , 38.907561051928234 ],
[ -24.254972340920574 , -2.253865072101862 ],
[ 21.890146946797394 , -15.302258896575054 ],
[ -19.348263736049404 , 40.9019127150117 ],
[ -27.318788677822265 , 16.005660901666836 ],
[ 35.17612870785576 , -3.7392243731101975 ],
[ -13.29929870084978 , 40.10127089802423 ],
[ -14.233594543036777 , 3.3035589092409188 ],
[ 43.78352200963227 , -23.221287048254258 ],
[ 3.986064272130123 , 43.04494203663752 ],
[ -0.670844153918436 , 4.116410256100069 ],
[ 21.502501437555733 , -3.9881003497842853 ],
[ -22.449484072309357 , 44.539845887330095 ],
[ -9.614207077357495 , 10.61093242630954 ],
[ 38.73917394883826 , 6.62448193174429 ],
[ -2.8640087821779874 , 35.67666747260856 ],
[ -9.75401561360776 , -1.3098730991722203 ],
[ 47.86369891765099 , -8.186609717235745 ],
[ -18.987498751020464 , 30.837333623245105 ],
[ -4.410650353300162 , -9.992040607516131 ],
[ 51.759228254647624 , -7.6181294270626045 ],
[ -6.403037503373863 , 43.29587067784316 ],
[ 6.242549974216679 , -20.402958337891587 ],
[ 38.017601331381506 , 0.5976030590726621 ],
[ -1.0610139740961908 , 42.34641392572083 ],
[ -13.782416945297333 , 0.8600848775940807 ],
[ 31.598346691284167 , -3.5619452371201596 ],
[ -9.657745845236224 , 49.791046075379995 ],
[ -4.292449837381717 , -0.642281996021703 ],
[ 44.287266944641374 , -6.868016036529384 ],
[ 13.201477664486461 , 34.340669784713135 ],
[ -5.577750115102605 , 4.164752508709887 ],
[ 32.86569438795284 , -15.895810202310951 ],
[ 3.05406846625004 , 47.7111111148863 ],
[ 0.03476337483169267 , 3.305601471438504 ],
[ 51.01385153838177 , -9.977511259185164 ],
[ -12.888429597483334 , 42.96290986211298 ],
[ -9.825295534824672 , 8.368204917129491 ],
[ 24.12459197215394 , -1.1983756168381337 ],
[ -2.65593050800595 , 24.46404330989818 ],
[ -30.60235956220375 , -1.798346850181616 ],
[ 44.87543209559296 , 6.430475843180153 ],
[ 17.149200264647455 , 48.99890120497054 ],
[ -11.848018959279816 , -9.036426095495358 ],
[ 40.726643202359114 , 3.867610044249017 ],
[ 11.01709549293263 , 37.41211308926517 ],
[ -7.543019176513897 , 3.4434589693213127 ],
[ 42.71827878017964 , -9.58046344688676 ],
[ 18.486661975387186 , 45.87106043792393 ],
[ 5.1428936129110685 , -8.369760654464178 ],
[ 43.96831335850001 , 4.02470400936283 ],
[ -6.215139908545013 , 43.15787999174003 ],
[ 0.46798823874173934 , -7.564966209536569 ],
[ 19.736445660286318 , -16.261159152217367 ],
[ 1.7192426281960647 , 40.706374778645525 ],
[ -12.676825805877964 , 5.6262118530339675 ],
[ 52.57894332797312 , 1.5970697634748823 ],
[ 6.8889310301595765 , 38.343512873194 ],
[ -15.635761831993882 , -6.2801138322734715 ],
[ 28.617646029649876 , -9.908380085553103 ],
[ -8.50451201673485 , 45.54811782623433 ],
[ -11.793821953709202 , -7.947077730742015 ],
[ 50.58560035566654 , 5.746959737299251 ],
[ -5.528627297689905 , 24.728638039297152 ],
[ -4.146460260824441 , -11.919666563784405 ],
[ 47.05012378634666 , 9.651916637869043 ],
[ -14.85979950235192 , 42.113699399401526 ],
[ 2.9995335831009395 , -18.18601532072554 ],
[ 50.84327444091272 , 14.388093825850266 ],
[ 6.267571389088494 , 32.61082301489476 ],
]

    # a=[[-10,0],[40,0],[0,40]]
    # xx=[]
    # yy=[]
    # print('[')
    # for i in range(100):
    #     for j in a:
    #         a1=j[0]+np.random.normal(0,10,1)[0]
    #         a2=j[1]+np.random.normal(0,10,1)[0]

    #         xx.append(a1)
    #         yy.append(a2)
    #         print('[',a1,',',a2,'],',)
    # print(']')
    # print('[')
    # for i in range(50):
    #     a2=random.randint(-40,60)
    #     a1=random.randint(-10,30)
    #     print('[', a1, ',', a2, '],', )
    # print(']')
    for i in data4:
        print(i[0] ,',',i[1])
    start = time.time()

    # 调用模糊C均值函数

    res_U = fuzzy(data4, 3, 1.01)
    # print(res_U)
    # 计算准确率

    x=[]
    y=[]
    for i in data4:
        x.append(i[0])
        y.append(i[1])

    # for i in range(len(res_U)):
        # print(res_U[i])
        # plt.scatter(x[i], y[i], c=res_U[i], marker='.')
        # if res_U[i][0]==1:
        #     plt.scatter(x[i], y[i],c='b',marker='.')
        #     # print(i,' = b')
        # if res_U[i][1] == 1:
        #     plt.scatter(x[i], y[i], c='g',marker='.')
        #     # print(i, ' = g')
        # if res_U[i][2] == 1:
        #     plt.scatter(x[i], y[i], c='r',marker='.')
            # print(i, ' = c')
    # plt.show()
    print("用时：{0}".format(time.time() - start))
